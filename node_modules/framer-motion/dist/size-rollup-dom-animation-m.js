import{i as t,_ as e,a as i,P as n,c as a,b as o,d as r,e as s,m as l,s as u,f as h,g as c,p as d,l as p,h as m,j as v,k as f,r as y,n as g,S as x,o as T,q as S,t as P,u as E,v as V,w as L,x as D,y as R,z as A,A as w,B as j,C as b,D as F,E as C,F as M,G as k,H as U,I as B,J as O,K as N}from"./size-rollup-dom-animation-assets.js";import*as I from"react";import z,{createContext as H,useContext as Y,useLayoutEffect as X,useEffect as W,useRef as G,useCallback as _,useMemo as q,forwardRef as K,createElement as J}from"react";var Q=function(t){return{isEnabled:function(e){return t.some((function(t){return!!e[t]}))}}},Z={measureLayout:Q(["layout","layoutId","drag","_layoutResetTransform"]),animation:Q(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag"]),exit:Q(["exit"]),drag:Q(["drag","dragControls"]),focus:Q(["whileFocus"]),hover:Q(["whileHover","onHoverStart","onHoverEnd"]),tap:Q(["whileTap","onTap","onTapStart","onTapCancel"]),pan:Q(["onPan","onPanStart","onPanSessionStart","onPanEnd"])};var $=H({strict:!1}),tt=Object.keys(Z),et=tt.length;var it=H({transformPagePoint:function(t){return t},isStatic:!1}),nt=H({});var at=i?X:W;function ot(t,e,i,a){var o=Y($),r=Y(nt).visualElement,s=Y(n),l=G(void 0);a||(a=o.renderer),!l.current&&a&&(l.current=a(t,{visualState:e,parent:r,props:i,presenceId:null==s?void 0:s.id,blockInitialAnimation:!1===(null==s?void 0:s.initial)}));var u=l.current;return at((function(){null==u||u.syncRender()})),W((function(){var t;null===(t=null==u?void 0:u.animationState)||void 0===t||t.animateChanges()})),at((function(){return function(){return null==u?void 0:u.notifyUnmount()}}),[]),u}function rt(t){return"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function st(t,e){var i=function(t,e){if(a(t)){var i=t.initial,n=t.animate;return{initial:!1===i||o(i)?i:void 0,animate:o(n)?n:void 0}}return!1!==t.inherit?e:{}}(t,Y(nt)),n=i.initial,r=i.animate;return q((function(){return{initial:n,animate:r}}),e?[lt(n),lt(r)]:[])}function lt(t){return Array.isArray(t)?t.join(" "):t}const ut=t=>t.hasOwnProperty("x")&&t.hasOwnProperty("y"),ht=t=>ut(t)&&t.hasOwnProperty("z"),ct=(t,e)=>Math.abs(t-e);var dt=["TopLeft","TopRight","BottomLeft","BottomRight"],pt=dt.length;function mt(t,e){var i;return null!==(i=t[e])&&void 0!==i?i:t.borderRadius}var vt=yt(0,.5,c),ft=yt(.5,.95,p);function yt(t,e,i){return function(n){return n<t?0:n>e?1:i(d(t,e,n))}}function gt(t,e){t.min=e.min,t.max=e.max}function xt(t,e){gt(t.x,e.x),gt(t.y,e.y)}function Tt(t){return void 0===t||1===t}function St(t){var e=t.scale,i=t.scaleX,n=t.scaleY;return!Tt(e)||!Tt(i)||!Tt(n)}function Pt(t){return St(t)||Et(t.x)||Et(t.y)||t.z||t.rotate||t.rotateX||t.rotateY}function Et(t){return t&&"0%"!==t}function Vt(t,e,i){return i+e*(t-i)}function Lt(t,e,i,n,a){return void 0!==a&&(t=Vt(t,a,n)),Vt(t,i,n)+e}function Dt(t,e,i,n,a){void 0===e&&(e=0),void 0===i&&(i=1),t.min=Lt(t.min,e,i,n,a),t.max=Lt(t.max,e,i,n,a)}function Rt(t,e){var i=e.x,n=e.y;Dt(t.x,i.translate,i.scale,i.originPoint),Dt(t.y,n.translate,n.scale,n.originPoint)}function At(t,e){t.min=t.min+e,t.max=t.max+e}function wt(t,e,i){var n=m(i,3),a=n[0],o=n[1],r=n[2],s=void 0!==e[r]?e[r]:.5,l=h(t.min,t.max,s);Dt(t,e[a],e[o],l,e.scale)}var jt=["x","scaleX","originX"],bt=["y","scaleY","originY"];function Ft(t,e){wt(t.x,e,jt),wt(t.y,e,bt)}function Ct(t){return t.max-t.min}function Mt(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=.01),function(t,e){if(r(t)&&r(e))return ct(t,e);if(ut(t)&&ut(e)){const i=ct(t.x,e.x),n=ct(t.y,e.y),a=ht(t)&&ht(e)?ct(t.z,e.z):0;return Math.sqrt(Math.pow(i,2)+Math.pow(n,2)+Math.pow(a,2))}}(t,e)<i}function kt(t,e,i,n){void 0===n&&(n=.5),t.origin=n,t.originPoint=h(e.min,e.max,t.origin),t.scale=Ct(i)/Ct(e),(Mt(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=h(i.min,i.max,t.origin)-t.originPoint,(Mt(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Ut(t,e,i,n){kt(t.x,e.x,i.x,null==n?void 0:n.originX),kt(t.y,e.y,i.y,null==n?void 0:n.originY)}function Bt(t,e,i){t.min=i.min+e.min,t.max=t.min+Ct(e)}function Ot(t,e,i){t.min=e.min-i.min,t.max=t.min+Ct(e)}function Nt(t,e,i){Ot(t.x,e.x,i.x),Ot(t.y,e.y,i.y)}function It(t,e,i,n,a){return t=Vt(t-=e,1/i,n),void 0!==a&&(t=Vt(t,1/a,n)),t}function zt(t,e,i,n,a){var o=m(i,3),r=o[0],s=o[1],l=o[2];!function(t,e,i,n,a,o,r){if(void 0===e&&(e=0),void 0===i&&(i=1),void 0===n&&(n=.5),void 0===o&&(o=t),void 0===r&&(r=t),v.test(e)&&(e=parseFloat(e),e=h(r.min,r.max,e/100)-r.min),"number"==typeof e){var s=h(o.min,o.max,n);t===o&&(s-=e),t.min=It(t.min,e,i,s,a),t.max=It(t.max,e,i,s,a)}}(t,e[r],e[s],e[l],e.scale,n,a)}var Ht=["x","scaleX","originX"],Yt=["y","scaleY","originY"];function Xt(t,e,i,n){zt(t.x,e,Ht,null==i?void 0:i.x,null==n?void 0:n.x),zt(t.y,e,Yt,null==i?void 0:i.y,null==n?void 0:n.y)}function Wt(t){return 0===t.translate&&1===t.scale}function Gt(t){return Wt(t.x)&&Wt(t.y)}function _t(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}var qt=function(){function t(){this.members=[]}return t.prototype.add=function(t){f(this.members,t),t.scheduleRender()},t.prototype.remove=function(t){if(y(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){var e=this.members[this.members.length-1];e&&this.promote(e)}},t.prototype.relegate=function(t){var e,i=this.members.findIndex((function(e){return t===e}));if(0===i)return!1;for(var n=i;n>=0;n--){var a=this.members[n];if(!1!==a.isPresent){e=a;break}}return!!e&&(this.promote(e),!0)},t.prototype.promote=function(t,e){var i,n=this.lead;t!==n&&(this.prevLead=n,this.lead=t,t.show(),n&&(n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues,t.snapshot.isShared=!0),(null===(i=t.root)||void 0===i?void 0:i.isUpdating)&&(t.isLayoutDirty=!0),!1===t.options.crossfade&&n.hide()))},t.prototype.exitAnimationComplete=function(){this.members.forEach((function(t){var e,i;return null===(i=(e=t.options).onExitComplete)||void 0===i?void 0:i.call(e)}))},t.prototype.scheduleRender=function(){this.members.forEach((function(t){t.instance&&t.scheduleRender(!1)}))},t.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},t}();function Kt(t,e,i){var n="translate3d("+t.x.translate/e.x+"px, "+t.y.translate/e.y+"px, 0) ";if(i){var a=i.rotate,o=i.rotateX,r=i.rotateY;a&&(n+="rotate("+a+"deg) "),o&&(n+="rotateX("+o+"deg) "),r&&(n+="rotateY("+r+"deg) ")}return"translate3d(0px, 0px, 0) scale(1, 1)"===(n+="scale("+t.x.scale+", "+t.y.scale+")")?"none":n}function Jt(t){return[t("x"),t("y")]}var Qt=function(t,e){return t.depth-e.depth},Zt=function(){function t(){this.children=[],this.isDirty=!1}return t.prototype.add=function(t){f(this.children,t),this.isDirty=!0},t.prototype.remove=function(t){y(this.children,t),this.isDirty=!0},t.prototype.forEach=function(t){this.isDirty&&this.children.sort(Qt),this.isDirty=!1,this.children.forEach(t)},t}(),$t=new WeakMap,te={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ee(t){var i=t.attachResizeListener,n=t.defaultParent,a=t.measureScroll,o=t.resetTransform;return function(){function t(t,e,i){var a=this;void 0===e&&(e={}),void 0===i&&(i=null==n?void 0:n()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){a.isUpdating&&(a.isUpdating=!1,a.clearAllSnapshots())},this.updateProjection=function(){a.nodes.forEach(le),a.nodes.forEach(ue)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=t,this.latestValues=e,this.root=i?i.root||i:this,this.path=i?g(g([],m(i.path),!1),[i],!1):[],this.parent=i,this.depth=i?i.depth+1:0,t&&this.root.registerPotentialNode(t,this);for(var o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new Zt)}return t.prototype.addEventListener=function(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new x),this.eventHandlers.get(t).add(e)},t.prototype.notifyListeners=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=this.eventHandlers.get(t);null==n||n.notify.apply(n,g([],m(e),!1))},t.prototype.hasListeners=function(t){return this.eventHandlers.has(t)},t.prototype.registerPotentialNode=function(t,e){this.potentialNodes.set(t,e)},t.prototype.mount=function(t,n){var a,o=this;if(void 0===n&&(n=!1),!this.instance){this.isSVG=t instanceof SVGElement&&"svg"!==t.tagName,this.instance=t;var r=this.options,s=r.layoutId,l=r.layout,u=r.visualElement;if(u&&!u.getInstance()&&u.mount(t),this.root.nodes.add(this),null===(a=this.parent)||void 0===a||a.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),n&&(l||s)&&(this.isLayoutDirty=!0),i){var h,c=function(){return o.root.updateBlockedByResize=!1};i(t,(function(){o.root.updateBlockedByResize=!0,clearTimeout(h),h=setTimeout(c,250),te.hasAnimatedSinceResize&&(te.hasAnimatedSinceResize=!1,o.nodes.forEach(se))}))}s&&this.root.registerSharedNode(s,this),!1!==this.options.animate&&u&&(s||l)&&this.addEventListener("didUpdate",(function(t){var i,n,a,r=t.delta,s=t.hasLayoutChanged,l=t.hasRelativeTargetChanged,h=t.layout,c=$t.get(u);if(!(null==c?void 0:c.isDragging)){var d=null!==(n=null!==(i=o.options.transition)&&void 0!==i?i:u.getDefaultTransition())&&void 0!==n?n:ve,p=u.getProps().onLayoutAnimationComplete,m=!o.targetLayout||!_t(o.targetLayout,h)||l,v=!s&&l;((null===(a=o.resumeFrom)||void 0===a?void 0:a.instance)||v||s&&(m||!o.currentAnimation))&&(o.resumeFrom&&(o.resumingFrom=o.resumeFrom,o.resumingFrom.resumingFrom=void 0),o.setAnimationOrigin(r,v),o.startAnimation(e(e({},T(d,"layout")),{onComplete:p}))),o.targetLayout=h}}))}},t.prototype.unmount=function(){var t,e;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(t=this.getStack())||void 0===t||t.remove(this),null===(e=this.parent)||void 0===e||e.children.delete(this),this.instance=void 0,S.preRender(this.updateProjection)},t.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},t.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},t.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},t.prototype.startUpdate=function(){var t;this.isUpdateBlocked()||(this.isUpdating=!0,null===(t=this.nodes)||void 0===t||t.forEach(he))},t.prototype.willUpdate=function(t){var e;if(void 0===t&&(t=!0),!this.root.isUpdateBlocked()&&(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty)){this.isLayoutDirty=!0;for(var i=0;i<this.path.length;i++){var n=this.path[i];n.shouldResetTransform=!0,n.updateScroll()}var a=this.options,o=a.layoutId,r=a.layout;if(o||r){var s=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate;this.prevTransformTemplateValue=null==s?void 0:s(this.latestValues,""),this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}}},t.prototype.didUpdate=function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(oe);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(fe),this.potentialNodes.clear()),this.nodes.forEach(re),this.nodes.forEach(ie),this.nodes.forEach(ne),this.clearAllSnapshots(),P.update(),P.preRender(),P.render())},t.prototype.clearAllSnapshots=function(){this.nodes.forEach(ae),this.sharedNodes.forEach(ce)},t.prototype.scheduleUpdateProjection=function(){E.preRender(this.updateProjection,!1,!0)},t.prototype.scheduleCheckAfterUnmount=function(){var t=this;E.postRender((function(){t.isLayoutDirty?t.root.didUpdate():t.root.checkUpdateFailed()}))},t.prototype.updateSnapshot=function(){if(!this.snapshot&&this.instance){var t=this.measure(),e=this.removeTransform(this.removeElementScroll(t));ge(e),this.snapshot={measured:t,layout:e,latestValues:{}}}},t.prototype.updateLayout=function(){var t;if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var e=0;e<this.path.length;e++){this.path[e].updateScroll()}var i=this.measure();ge(i);var n=this.layout;this.layout={measured:i,actual:this.removeElementScroll(i)},this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure"),null===(t=this.options.visualElement)||void 0===t||t.notifyLayoutMeasure(this.layout.actual,null==n?void 0:n.actual)}},t.prototype.updateScroll=function(){this.options.shouldMeasureScroll&&this.instance&&(this.scroll=a(this.instance))},t.prototype.resetTransform=function(){var t;if(o){var e=this.isLayoutDirty||this.shouldResetTransform,i=this.projectionDelta&&!Gt(this.projectionDelta),n=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate,a=null==n?void 0:n(this.latestValues,""),r=a!==this.prevTransformTemplateValue;e&&(i||Pt(this.latestValues)||r)&&(o(this.instance,a),this.shouldResetTransform=!1,this.scheduleRender())}},t.prototype.measure=function(){var t=this.options.visualElement;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};var e=t.measureViewportBox(),i=this.root.scroll;return i&&(At(e.x,i.x),At(e.y,i.y)),e},t.prototype.removeElementScroll=function(t){var e={x:{min:0,max:0},y:{min:0,max:0}};xt(e,t);for(var i=0;i<this.path.length;i++){var n=this.path[i],a=n.scroll,o=n.options;n!==this.root&&a&&o.shouldMeasureScroll&&(At(e.x,a.x),At(e.y,a.y))}return e},t.prototype.applyTransform=function(t,e){void 0===e&&(e=!1);var i={x:{min:0,max:0},y:{min:0,max:0}};xt(i,t);for(var n=0;n<this.path.length;n++){var a=this.path[n];!e&&a.options.shouldMeasureScroll&&a.scroll&&a!==a.root&&Ft(i,{x:-a.scroll.x,y:-a.scroll.y}),Pt(a.latestValues)&&Ft(i,a.latestValues)}return Pt(this.latestValues)&&Ft(i,this.latestValues),i},t.prototype.removeTransform=function(t){var e,i={x:{min:0,max:0},y:{min:0,max:0}};xt(i,t);for(var n=0;n<this.path.length;n++){var a=this.path[n];if(a.instance&&Pt(a.latestValues)){St(a.latestValues)&&a.updateSnapshot();var o={x:{min:0,max:0},y:{min:0,max:0}};xt(o,a.measure()),Xt(i,a.latestValues,null===(e=a.snapshot)||void 0===e?void 0:e.layout,o)}}return Pt(this.latestValues)&&Xt(i,this.latestValues),i},t.prototype.setTargetDelta=function(t){this.targetDelta=t,this.root.scheduleUpdateProjection()},t.prototype.setOptions=function(t){var i;this.options=e(e(e({},this.options),t),{crossfade:null===(i=t.crossfade)||void 0===i||i})},t.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},t.prototype.resolveTargetDelta=function(){var t,e,i,n,a=this.options,o=a.layout,r=a.layoutId;this.layout&&(o||r)&&(this.targetDelta||this.relativeTarget||(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Nt(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),xt(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&(null===(t=this.relativeParent)||void 0===t?void 0:t.target)?(e=this.target,i=this.relativeTarget,n=this.relativeParent.target,Bt(e.x,i.x,n.x),Bt(e.y,i.y,n.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):xt(this.target,this.layout.actual),Rt(this.target,this.targetDelta)):xt(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.shouldMeasureScroll&&this.relativeParent.target&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Nt(this.relativeTargetOrigin,this.target,this.relativeParent.target),xt(this.relativeTarget,this.relativeTargetOrigin)))))},t.prototype.getClosestProjectingParent=function(){if(this.parent&&!Pt(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},t.prototype.calcProjection=function(){var t,e=this.options,i=e.layout,n=e.layoutId;if(this.isTreeAnimating=Boolean((null===(t=this.parent)||void 0===t?void 0:t.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(i||n)){var a=this.getLead();xt(this.layoutCorrected,this.layout.actual),function(t,e,i,n){var a,o;void 0===n&&(n=!1);var r=i.length;if(r){var s,l;e.x=e.y=1;for(var u=0;u<r;u++)l=(s=i[u]).projectionDelta,"contents"!==(null===(o=null===(a=s.instance)||void 0===a?void 0:a.style)||void 0===o?void 0:o.display)&&(n&&s.options.shouldMeasureScroll&&s.scroll&&s!==s.root&&Ft(t,{x:-s.scroll.x,y:-s.scroll.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,Rt(t,l)),n&&Pt(s.latestValues)&&Ft(t,s.latestValues))}}(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==a);var o=a.target;if(o){this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});var r=this.treeScale.x,s=this.treeScale.y,l=this.projectionTransform;Ut(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.projectionTransform=Kt(this.projectionDelta,this.treeScale),this.projectionTransform===l&&this.treeScale.x===r&&this.treeScale.y===s||(this.hasProjected=!0,this.scheduleRender())}}},t.prototype.hide=function(){this.isVisible=!1},t.prototype.show=function(){this.isVisible=!0},t.prototype.scheduleRender=function(t){var e,i,n;void 0===t&&(t=!0),null===(i=(e=this.options).scheduleRender)||void 0===i||i.call(e),t&&(null===(n=this.getStack())||void 0===n||n.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},t.prototype.setAnimationOrigin=function(t,i){var n,a=this;void 0===i&&(i=!1);var o=this.snapshot,r=(null==o?void 0:o.latestValues)||{},s=e({},this.latestValues),l={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!i;var u={x:{min:0,max:0},y:{min:0,max:0}},c=null==o?void 0:o.isShared,d=((null===(n=this.getStack())||void 0===n?void 0:n.members.length)||0)<=1,p=Boolean(c&&!d&&!0===this.options.crossfade&&!this.path.some(me));this.mixTargetDelta=function(e){var i,n,o,m,v,f=e/1e3;de(l.x,t.x,f),de(l.y,t.y,f),a.setTargetDelta(l),a.relativeTarget&&a.relativeTargetOrigin&&a.layout&&(null===(i=a.relativeParent)||void 0===i?void 0:i.layout)&&(Nt(u,a.layout.actual,a.relativeParent.layout.actual),n=a.relativeTarget,o=a.relativeTargetOrigin,m=u,v=f,pe(n.x,o.x,m.x,v),pe(n.y,o.y,m.y,v)),c&&(a.animationValues=s,function(t,e,i,n,a,o){var r,s,l,u;a?(t.opacity=h(0,null!==(r=i.opacity)&&void 0!==r?r:1,vt(n)),t.opacityExit=h(null!==(s=e.opacity)&&void 0!==s?s:1,0,ft(n))):o&&(t.opacity=h(null!==(l=e.opacity)&&void 0!==l?l:1,null!==(u=i.opacity)&&void 0!==u?u:1,n));for(var c=0;c<pt;c++){var d="border"+dt[c]+"Radius",p=mt(e,d),m=mt(i,d);if((void 0!==p||void 0!==m)&&(p||(p=0),m||(m=0),"number"==typeof p&&"number"==typeof m)){var v=Math.max(h(p,m,n),0);t[d]=v}}(e.rotate||i.rotate)&&(t.rotate=h(e.rotate||0,i.rotate||0,n))}(s,r,a.latestValues,f,p,d)),a.root.scheduleUpdateProjection(),a.scheduleRender()},this.mixTargetDelta(0)},t.prototype.startAnimation=function(t){var i,n,a=this;null===(i=this.currentAnimation)||void 0===i||i.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(S.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=E.update((function(){te.hasAnimatedSinceResize=!0,a.currentAnimation=function(t,e,i){void 0===i&&(i={});var n=s(t)?t:l(t);return u("",n,e,i),{stop:function(){return n.stop()},isAnimating:function(){return n.isAnimating()}}}(0,1e3,e(e({},t),{onUpdate:function(e){var i;a.mixTargetDelta(e),null===(i=t.onUpdate)||void 0===i||i.call(t,e)},onComplete:function(){var e;null===(e=t.onComplete)||void 0===e||e.call(t),a.completeAnimation()}})),a.resumingFrom&&(a.resumingFrom.currentAnimation=a.currentAnimation),a.pendingAnimation=void 0}))},t.prototype.completeAnimation=function(){var t;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,null===(t=this.getStack())||void 0===t||t.exitAnimationComplete()},t.prototype.finishAnimation=function(){var t;this.currentAnimation&&(null===(t=this.mixTargetDelta)||void 0===t||t.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()},t.prototype.applyTransformsToTarget=function(){var t=this.getLead(),e=t.targetWithTransforms,i=t.target,n=t.layout,a=t.latestValues;e&&i&&n&&(xt(e,i),Ft(e,a),Ut(this.projectionDeltaWithTransform,this.layoutCorrected,e,a))},t.prototype.registerSharedNode=function(t,e){var i,n,a;this.sharedNodes.has(t)||this.sharedNodes.set(t,new qt),this.sharedNodes.get(t).add(e),e.promote({transition:null===(i=e.options.initialPromotionConfig)||void 0===i?void 0:i.transition,preserveFollowOpacity:null===(a=null===(n=e.options.initialPromotionConfig)||void 0===n?void 0:n.shouldPreserveFollowOpacity)||void 0===a?void 0:a.call(n,e)})},t.prototype.isLead=function(){var t=this.getStack();return!t||t.lead===this},t.prototype.getLead=function(){var t;return this.options.layoutId&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this},t.prototype.getPrevLead=function(){var t;return this.options.layoutId?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0},t.prototype.getStack=function(){var t=this.options.layoutId;if(t)return this.root.sharedNodes.get(t)},t.prototype.promote=function(t){var e=void 0===t?{}:t,i=e.needsReset,n=e.transition,a=e.preserveFollowOpacity,o=this.getStack();o&&o.promote(this,a),i&&(this.projectionDelta=void 0,this.needsReset=!0),n&&this.setOptions({transition:n})},t.prototype.relegate=function(){var t=this.getStack();return!!t&&t.relegate(this)},t.prototype.resetRotation=function(){var t=this.options.visualElement;if(t){for(var e=!1,i={},n=0;n<V.length;n++){var a="rotate"+V[n];t.getStaticValue(a)&&(e=!0,i[a]=t.getStaticValue(a),t.setStaticValue(a,0))}if(e){for(var a in null==t||t.syncRender(),i)t.setStaticValue(a,i[a]);t.scheduleRender()}}},t.prototype.getProjectionStyles=function(){var t,e,i,n,a,o,r={};if(!this.instance||this.isSVG)return r;var s=this.getLead();if(!this.isVisible)return{visibility:"hidden"};r.visibility="";var l=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,r.opacity="",r.transform=l?l(this.latestValues,""):"none",r;if(!this.projectionDelta||!this.layout||!s.target){var u={};return this.options.layoutId&&(u.opacity=null!==(e=this.latestValues.opacity)&&void 0!==e?e:1),this.hasProjected&&!Pt(this.latestValues)&&(u.transform=l?l({},""):"none",this.hasProjected=!1),u}var h=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=Kt(this.projectionDeltaWithTransform,this.treeScale,h),l&&(r.transform=l(h,r.transform));var c=this.projectionDelta,d=c.x,p=c.y;for(var m in r.transformOrigin=100*d.origin+"% "+100*p.origin+"% 0",s.animationValues?r.opacity=s===this?null!==(n=null!==(i=h.opacity)&&void 0!==i?i:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:r.opacity=s===this?null!==(a=h.opacity)&&void 0!==a?a:"":null!==(o=h.opacityExit)&&void 0!==o?o:0,L)if(void 0!==h[m]){var v=L[m],f=v.correct,y=v.applyTo,g=f(h[m],s);if(y)for(var x=y.length,T=0;T<x;T++)r[y[T]]=g;else r[m]=g}return r},t.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},t.prototype.resetTree=function(){this.root.nodes.forEach((function(t){var e;return null===(e=t.currentAnimation)||void 0===e?void 0:e.stop()})),this.root.nodes.forEach(oe),this.root.sharedNodes.clear()},t}()}function ie(t){t.updateLayout()}function ne(t){var e,i,n=null!==(i=null===(e=t.resumeFrom)||void 0===e?void 0:e.snapshot)&&void 0!==i?i:t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){var a=t.layout,o=a.actual,r=a.measured;"size"===t.options.animationType?Jt((function(t){var e=n.isShared?n.measured[t]:n.layout[t],i=Ct(e);e.min=o[t].min,e.max=e.min+i})):"position"===t.options.animationType&&Jt((function(t){var e=n.isShared?n.measured[t]:n.layout[t],i=Ct(o[t]);e.max=e.min+i}));var s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Ut(s,o,n.layout);var l={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};n.isShared?Ut(l,t.applyTransform(r,!0),n.measured):Ut(l,o,n.layout);var u=!Gt(s),h=!1;if(!t.resumeFrom&&(t.relativeParent=t.getClosestProjectingParent(),t.relativeParent&&!t.relativeParent.resumeFrom)){var c=t.relativeParent,d=c.snapshot,p=c.layout;if(d&&p){var m={x:{min:0,max:0},y:{min:0,max:0}};Nt(m,n.layout,d.layout);var v={x:{min:0,max:0},y:{min:0,max:0}};Nt(v,o,p.actual),_t(m,v)||(h=!0)}}t.notifyListeners("didUpdate",{layout:o,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:u,hasRelativeTargetChanged:h})}t.options.transition=void 0}function ae(t){t.clearSnapshot()}function oe(t){t.clearMeasurements()}function re(t){t.resetTransform()}function se(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function le(t){t.resolveTargetDelta()}function ue(t){t.calcProjection()}function he(t){t.resetRotation()}function ce(t){t.removeLeadSnapshot()}function de(t,e,i){t.translate=h(e.translate,0,i),t.scale=h(e.scale,1,i),t.origin=e.origin,t.originPoint=e.originPoint}function pe(t,e,i,n){t.min=h(e.min,i.min,n),t.max=h(e.max,i.max,n)}function me(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}var ve={duration:.45,ease:[.4,0,.1,1]};function fe(t,e){for(var i=t.root,n=t.path.length-1;n>=0;n--)if(Boolean(t.path[n].instance)){i=t.path[n];break}var a=(i&&i!==t.root?i.instance:document).querySelector('[data-projection-id="'+e+'"]');a&&t.mount(a,!0)}function ye(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function ge(t){ye(t.x),ye(t.y)}var xe=1;var Te=H({}),Se=ee({attachResizeListener:function(t,e){return t.addEventListener("resize",e,{passive:!0}),function(){return t.removeEventListener("resize",e)}},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}}}),Pe={current:void 0},Ee=ee({measureScroll:function(t){return{x:t.scrollLeft,y:t.scrollTop}},defaultParent:function(){if(!Pe.current){var t=new Se(0,{});t.mount(window),t.setOptions({shouldMeasureScroll:!0}),Pe.current=t}return Pe.current},resetTransform:function(t,e){t.style.transform=null!=e?e:"none"}});var Ve=H({}),Le=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R(e,t),e.prototype.componentDidMount=function(){this.updateProps()},e.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},e.prototype.componentDidUpdate=function(){},e.prototype.updateProps=function(){var t=this.props,e=t.visualElement,i=t.props;e&&e.setProps(i)},e.prototype.render=function(){return this.props.children},e}(z.Component);function De(n){var a=n.preloadedFeatures,o=n.createVisualElement,r=n.useRender,s=n.useVisualState,l=n.Component;return a&&function(t){for(var e in t){var i=t[e];null!==i&&(Z[e].Component=i)}}(a),K((function(n,u){var h=function(t){var e,i=t.layoutId,n=null===(e=Y(Te))||void 0===e?void 0:e.id;return n&&void 0!==i?n+"-"+i:i}(n);n=e(e({},n),{layoutId:h});var c=Y(it),d=null,p=st(n,c.isStatic),m=D((function(){if(te.hasEverUpdated)return xe++})),v=s(n,c.isStatic);if(!c.isStatic&&i&&(p.visualElement=ot(l,v,e(e({},c),n),o)),!c.isStatic&&i){d=function(i,n,a,o){var r=[],s=Y($);if(!a)return null;"production"!==process.env.NODE_ENV&&o&&s.strict&&t(!1,"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.");for(var l=0;l<et;l++){var u=tt[l],h=Z[u],c=h.isEnabled,d=h.Component;c(i)&&d&&r.push(I.createElement(d,e({key:u},i,{visualElement:a,projectionId:n})))}return r}(n,m,p.visualElement,a);var f=Y(Ve),y=f.transition,g=f.shouldPreserveFollowOpacity;!function(t,e,i,n){var a,o=e.layoutId,r=e.layout,s=e.drag,l=e.dragConstraints,u=e.shouldMeasureScroll;i&&!(null==i?void 0:i.projection)&&(i.projection=new Ee(t,i.getLatestValues(),null===(a=i.parent)||void 0===a?void 0:a.projection),i.projection.setOptions({layoutId:o,layout:r,alwaysMeasureLayout:Boolean(s)||l&&rt(l),visualElement:i,scheduleRender:function(){return i.scheduleRender()},animationType:"string"==typeof r?r:"both",initialPromotionConfig:n,shouldMeasureScroll:u}))}(m,n,p.visualElement,{transition:y,shouldPreserveFollowOpacity:g})}return I.createElement(Le,{visualElement:p.visualElement,props:e(e({},c),n)},d,I.createElement(nt.Provider,{value:p},r(l,n,m,function(t,e,i){return _((function(n){var a;n&&(null===(a=t.mount)||void 0===a||a.call(t,n)),e&&(n?e.mount(n):e.unmount()),i&&("function"==typeof i?i(n):rt(i)&&(i.current=n))}),[e])}(v,p.visualElement,u),v,c.isStatic)))}))}var Re=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function Ae(t,e,i){for(var n in e)s(e[n])||A(n,i)||(t[n]=e[n])}function we(t,i,n){var a={};return Ae(a,t.style||{},t),Object.assign(a,function(t,i,n){var a=t.transformTemplate;return q((function(){var t={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};w(t,i,{enableHardwareAcceleration:!n},a);var o=t.style;return e(e({},t.vars),o)}),[i])}(t,i,n)),t.transformValues&&(a=t.transformValues(a)),a}function je(t,e,i){var n={},a=we(t,e,i);return Boolean(t.drag)&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=!0===t.drag?"none":"pan-"+("x"===t.drag?"y":"x")),n.style=a,n}var be=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","shouldMeasureScroll"]);function Fe(t){return be.has(t)}var Ce=function(t){return!Fe(t)};try{var Me=require("@emotion/is-prop-valid").default;Ce=function(t){return t.startsWith("on")?!Fe(t):Me(t)}}catch(t){}var ke=function(){return e(e({},{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}),{attrs:{}})};function Ue(t,i){var n=q((function(){var n=ke();return j(n,i,{enableHardwareAcceleration:!1},t.transformTemplate),e(e({},n.attrs),{style:e({},n.style)})}),[i]);if(t.style){var a={};Ae(a,t.style,t),n.style=e(e({},a),n.style)}return n}function Be(t){void 0===t&&(t=!1);return function(i,n,a,o,r,s){var l=r.latestValues,u=(b(i)?Ue:je)(n,l,s),h=function(t,e,i){var n={};for(var a in t)(Ce(a)||!0===i&&Fe(a)||!e&&!Fe(a))&&(n[a]=t[a]);return n}(n,"string"==typeof i,t),c=e(e(e({},h),u),{ref:o});return a&&(c["data-projection-id"]=a),J(i,c)}}function Oe(t,e,i,n){var a=t.scrapeMotionValuesFromProps,o=t.createRenderState,r=t.onMount,s={latestValues:Ie(e,i,n,a),renderState:o()};return r&&(s.mount=function(t){return r(e,t,s)}),s}var Ne=function(t){return function(e,i){var a=Y(nt),o=Y(n);return i?Oe(t,e,a,o):D((function(){return Oe(t,e,a,o)}))}};function Ie(t,e,i,n){var o,r,l={},u=!1===(null==i?void 0:i.initial),h=n(t);for(var c in h)l[c]=(o=h[c],r=void 0,r=s(o)?o.get():o,F(r)?r.toValue():r);var d=t.initial,p=t.animate,m=a(t),v=C(t);e&&v&&!m&&!1!==t.inherit&&(null!=d||(d=e.initial),null!=p||(p=e.animate));var f=u||!1===d?p:d;f&&"boolean"!=typeof f&&!M(f)&&(Array.isArray(f)?f:[f]).forEach((function(e){var i=k(t,e);if(i){var n=i.transitionEnd;i.transition;var a=U(i,["transitionEnd","transition"]);for(var o in a)l[o]=a[o];for(var o in n)l[o]=n[o]}}));return l}var ze={useVisualState:Ne({scrapeMotionValuesFromProps:B,createRenderState:ke,onMount:function(t,e,i){var n=i.renderState,a=i.latestValues;try{n.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(t){n.dimensions={x:0,y:0,width:0,height:0}}"path"===e.tagName&&(n.totalPathLength=e.getTotalLength()),j(n,a,{enableHardwareAcceleration:!1},t.transformTemplate),O(e,n)}})};var He={useVisualState:Ne({scrapeMotionValuesFromProps:N,createRenderState:Re})};var Ye=function(t){function e(e,i){return void 0===i&&(i={}),De(t(e,i))}var i=new Map;return new Proxy(e,{get:function(t,n){return i.has(n)||i.set(n,e(n)),i.get(n)}})}((function(t,i,n,a){var o=i.forwardMotionProps,r=void 0!==o&&o,s=b(t)?ze:He;return e(e({},s),{preloadedFeatures:n,useRender:Be(r),createVisualElement:a,Component:t})}));export{Ye as m};
